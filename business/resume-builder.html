<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Builder - Free Online Resume Creator</title>
    <meta name="description" content="Create professional resumes online with our free resume builder. Choose from multiple templates and customize your resume easily.">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #0d6efd;
            --secondary-color: #6c757d;
            --background-color: #1a1a1a;
            --text-color: #ffffff;
            --card-bg: #2d2d2d;
            --border-color: #404040;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .tool-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .template-option {
            cursor: pointer;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
            background-color: var(--card-bg);
            position: relative;
            overflow: hidden;
        }

        .template-option:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .template-option.active {
            border-color: var(--primary-color);
            background-color: rgba(13, 110, 253, 0.1);
            box-shadow: 0 0 0 2px var(--primary-color);
        }

        .template-option:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px var(--primary-color);
        }

        .template-preview {
            width: 100%;
            height: 200px;
            background-color: var(--card-bg);
            border-radius: 4px;
            margin-bottom: 1rem;
            overflow: hidden;
            position: relative;
        }

        .template-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .template-option:hover .template-preview img {
            transform: scale(1.05);
        }

        .template-option h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .template-option p {
            color: var(--text-color);
            opacity: 0.8;
            margin-bottom: 0;
        }

        .resume-preview {
            background-color: white;
            color: black;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-top: 2rem;
        }

        .form-control, .form-select {
            background-color: var(--card-bg);
            border-color: var(--border-color);
            color: var(--text-color);
        }

        .form-control:focus, .form-select:focus {
            background-color: var(--card-bg);
            border-color: var(--primary-color);
            color: var(--text-color);
        }

        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .btn-primary:hover {
            background-color: #0b5ed7;
            border-color: #0b5ed7;
        }

        .section-title {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }

        .skill-level {
            color: #ffc107;
        }

        .resume-modern, .resume-professional, .resume-creative {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
        }

        .resume-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .resume-section {
            margin-bottom: 2rem;
        }

        .resume-section h2 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }

        .experience-item, .education-item {
            margin-bottom: 1.5rem;
        }

        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
        }

        .skill-item {
            background-color: var(--card-bg);
            padding: 1rem;
            border-radius: 4px;
        }

        .template-preview {
            border: 2px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .template-preview img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .template-option:hover .template-preview {
            border-color: var(--primary-color);
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .preview-container {
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            min-height: 500px;
            background: white;
            margin-bottom: 1rem;
        }

        #download-pdf:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .template-placeholder {
            width: 100%;
            height: 200px;
            background: #f8f9fa;
            border-radius: 4px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .template-placeholder .header {
            height: 40px;
            background: #e9ecef;
            border-radius: 4px;
        }

        .template-placeholder .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .template-placeholder .line {
            height: 12px;
            background: #e9ecef;
            border-radius: 4px;
        }

        .template-placeholder.modern .header {
            background: #007bff;
        }

        .template-placeholder.professional .header {
            background: #343a40;
        }

        .template-placeholder.creative .header {
            background: #6f42c1;
        }

        .template-option:hover .template-placeholder {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .template-svg {
            width: 100%;
            height: 300px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .template-option:hover .template-svg {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .template-svg .header {
            transition: all 0.3s ease;
        }

        .template-svg .name,
        .template-svg .title {
            transition: all 0.3s ease;
        }

        .template-svg .section {
            transition: all 0.3s ease;
        }

        .template-svg .line {
            transition: all 0.3s ease;
        }

        .template-svg.modern .header {
            fill: url(#modernGradient);
        }

        .template-svg.professional .header {
            fill: url(#professionalPattern);
        }

        .template-svg.creative .header {
            fill: url(#creativeGradient);
        }

        .template-preview {
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .template-option:hover .template-preview {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .cartoon-character {
            transition: all 0.3s ease;
        }

        .template-option:hover .cartoon-character {
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <div class="tool-container">
        <h1 class="text-center mb-4">Resume Builder</h1>
        
        <!-- Template Selection -->
        <div class="row mb-4">
            <div class="col-12">
                <h2 class="section-title">Choose a Template</h2>
                <div class="row">
                    <div class="col-md-4">
                        <div class="template-option" data-template="modern" role="button" tabindex="0">
                            <div class="template-preview">
                                <svg class="template-svg modern" viewBox="0 0 300 400" xmlns="http://www.w3.org/2000/svg">
                                    <!-- Modern Template with Cartoon Elements -->
                                    <defs>
                                        <linearGradient id="modernGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#2196F3;stop-opacity:1">
                                                <animate attributeName="stop-opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite"/>
                                            </stop>
                                            <stop offset="100%" style="stop-color:#1976D2;stop-opacity:1">
                                                <animate attributeName="stop-opacity" values="0.9;1;0.9" dur="3s" repeatCount="indefinite"/>
                                            </stop>
                                        </linearGradient>
                                    </defs>
                                    <!-- Header with Gradient -->
                                    <rect class="header" x="0" y="0" width="300" height="100" fill="url(#modernGradient)"/>
                                    
                                    <!-- Cartoon Character - Modern Business Person -->
                                    <g class="cartoon-character" transform="translate(220, 20)">
                                        <!-- Head -->
                                        <circle cx="0" cy="0" r="15" fill="#FFD700"/>
                                        <!-- Body -->
                                        <rect x="-10" y="15" width="20" height="25" fill="#FFD700"/>
                                        <!-- Tie -->
                                        <path d="M0 15 L-5 25 L0 35 L5 25 Z" fill="#FF6B6B"/>
                                        <!-- Eyes -->
                                        <circle cx="-5" cy="-3" r="2" fill="white"/>
                                        <circle cx="5" cy="-3" r="2" fill="white"/>
                                        <!-- Smile -->
                                        <path d="M-5 5 Q0 10 5 5" stroke="white" fill="none" stroke-width="2"/>
                                        <!-- Animated Elements -->
                                        <animateTransform attributeName="transform" type="translate" values="0,0; 0,-5; 0,0" dur="2s" repeatCount="indefinite"/>
                                    </g>

                                    <!-- Animated Name Bar -->
                                    <rect class="name" x="20" y="30" width="180" height="25" fill="white" rx="4">
                                        <animate attributeName="width" values="160;180;160" dur="2s" repeatCount="indefinite"/>
                                    </rect>
                                    <!-- Animated Title Bar -->
                                    <rect class="title" x="20" y="65" width="150" height="20" fill="white" rx="4" opacity="0.9">
                                        <animate attributeName="width" values="130;150;130" dur="2s" repeatCount="indefinite"/>
                                    </rect>
                                    <!-- Content Sections with Modern Style -->
                                    <rect class="section" x="20" y="120" width="260" height="35" fill="#f8f9fa" rx="4"/>
                                    <rect class="line" x="20" y="165" width="260" height="12" fill="#e9ecef" rx="2"/>
                                    <rect class="line" x="20" y="187" width="200" height="12" fill="#e9ecef" rx="2"/>
                                    <rect class="section" x="20" y="209" width="260" height="35" fill="#f8f9fa" rx="4"/>
                                    <rect class="line" x="20" y="254" width="260" height="12" fill="#e9ecef" rx="2"/>
                                    <rect class="line" x="20" y="276" width="200" height="12" fill="#e9ecef" rx="2"/>
                                    <rect class="section" x="20" y="298" width="260" height="35" fill="#f8f9fa" rx="4"/>
                                    <rect class="line" x="20" y="343" width="260" height="12" fill="#e9ecef" rx="2"/>
                                </svg>
                            </div>
                            <h4>Modern</h4>
                            <p>Clean and contemporary design</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="template-option" data-template="professional" role="button" tabindex="0">
                            <div class="template-preview">
                                <svg class="template-svg professional" viewBox="0 0 300 400" xmlns="http://www.w3.org/2000/svg">
                                    <!-- Professional Template with Cartoon Elements -->
                                    <defs>
                                        <pattern id="professionalPattern" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
                                            <rect x="0" y="0" width="40" height="40" fill="#343a40"/>
                                            <line x1="0" y1="0" x2="40" y2="40" stroke="#495057" stroke-width="1" opacity="0.1">
                                                <animate attributeName="opacity" values="0.05;0.15;0.05" dur="4s" repeatCount="indefinite"/>
                                            </line>
                                        </pattern>
                                    </defs>
                                    <!-- Header with Pattern -->
                                    <rect class="header" x="0" y="0" width="300" height="120" fill="url(#professionalPattern)"/>
                                    
                                    <!-- Cartoon Character - Professional Executive -->
                                    <g class="cartoon-character" transform="translate(220, 30)">
                                        <!-- Head -->
                                        <circle cx="0" cy="0" r="15" fill="#FFD700"/>
                                        <!-- Body -->
                                        <rect x="-12" y="15" width="24" height="30" fill="#FFD700"/>
                                        <!-- Tie -->
                                        <path d="M0 15 L-8 30 L0 45 L8 30 Z" fill="#FF6B6B"/>
                                        <!-- Eyes -->
                                        <circle cx="-5" cy="-3" r="2" fill="white"/>
                                        <circle cx="5" cy="-3" r="2" fill="white"/>
                                        <!-- Serious Expression -->
                                        <path d="M-5 5 L5 5" stroke="white" stroke-width="2"/>
                                        <!-- Animated Elements -->
                                        <animateTransform attributeName="transform" type="translate" values="0,0; 0,-3; 0,0" dur="3s" repeatCount="indefinite"/>
                                    </g>

                                    <!-- Professional Name Section -->
                                    <rect class="name" x="30" y="40" width="180" height="30" fill="white" rx="2">
                                        <animate attributeName="width" values="160;180;160" dur="3s" repeatCount="indefinite"/>
                                    </rect>
                                    <!-- Professional Title Section -->
                                    <rect class="title" x="30" y="80" width="140" height="25" fill="white" rx="2" opacity="0.9">
                                        <animate attributeName="width" values="120;140;120" dur="3s" repeatCount="indefinite"/>
                                    </rect>
                                    <!-- Content Sections with Professional Style -->
                                    <rect class="section" x="20" y="140" width="260" height="40" fill="#f8f9fa" rx="2"/>
                                    <rect class="line" x="20" y="190" width="260" height="15" fill="#e9ecef" rx="2"/>
                                    <rect class="line" x="20" y="215" width="220" height="15" fill="#e9ecef" rx="2"/>
                                    <rect class="section" x="20" y="240" width="260" height="40" fill="#f8f9fa" rx="2"/>
                                    <rect class="line" x="20" y="290" width="260" height="15" fill="#e9ecef" rx="2"/>
                                    <rect class="line" x="20" y="315" width="220" height="15" fill="#e9ecef" rx="2"/>
                                    <rect class="section" x="20" y="340" width="260" height="40" fill="#f8f9fa" rx="2"/>
                                </svg>
                            </div>
                            <h4>Professional</h4>
                            <p>Traditional and formal layout</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="template-option" data-template="creative" role="button" tabindex="0">
                            <div class="template-preview">
                                <svg class="template-svg creative" viewBox="0 0 300 400" xmlns="http://www.w3.org/2000/svg">
                                    <!-- Creative Template with Cartoon Elements -->
                                    <defs>
                                        <linearGradient id="creativeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                            <stop offset="0%" style="stop-color:#9C27B0;stop-opacity:1">
                                                <animate attributeName="stop-opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite"/>
                                            </stop>
                                            <stop offset="100%" style="stop-color:#6f42c1;stop-opacity:1">
                                                <animate attributeName="stop-opacity" values="0.9;1;0.9" dur="3s" repeatCount="indefinite"/>
                                            </stop>
                                        </linearGradient>
                                        <pattern id="creativePattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
                                            <circle cx="2" cy="2" r="1" fill="white" opacity="0.2">
                                                <animate attributeName="opacity" values="0.1;0.3;0.1" dur="2s" repeatCount="indefinite"/>
                                            </circle>
                                        </pattern>
                                    </defs>
                                    <!-- Header with Gradient and Pattern -->
                                    <rect class="header" x="0" y="0" width="300" height="100" fill="url(#creativeGradient)"/>
                                    <rect x="0" y="0" width="300" height="100" fill="url(#creativePattern)"/>
                                    
                                    <!-- Cartoon Character - Creative Artist -->
                                    <g class="cartoon-character" transform="translate(220, 20)">
                                        <!-- Head -->
                                        <circle cx="0" cy="0" r="15" fill="#FFD700"/>
                                        <!-- Body -->
                                        <path d="M-10 15 Q0 25 10 15 L10 40 Q0 50 -10 40 Z" fill="#FFD700"/>
                                        <!-- Paint Palette -->
                                        <circle cx="15" cy="25" r="8" fill="#FF6B6B"/>
                                        <circle cx="12" cy="20" r="2" fill="white"/>
                                        <circle cx="18" cy="30" r="2" fill="white"/>
                                        <!-- Eyes -->
                                        <circle cx="-5" cy="-3" r="2" fill="white"/>
                                        <circle cx="5" cy="-3" r="2" fill="white"/>
                                        <!-- Happy Expression -->
                                        <path d="M-5 5 Q0 10 5 5" stroke="white" fill="none" stroke-width="2"/>
                                        <!-- Animated Elements -->
                                        <animateTransform attributeName="transform" type="rotate" values="0;5;0;-5;0" dur="4s" repeatCount="indefinite"/>
                                    </g>

                                    <!-- Creative Name Section with Rounded Corners -->
                                    <rect class="name" x="20" y="25" width="180" height="30" fill="white" rx="15">
                                        <animate attributeName="width" values="160;180;160" dur="2s" repeatCount="indefinite"/>
                                    </rect>
                                    <!-- Creative Title Section -->
                                    <rect class="title" x="20" y="65" width="150" height="25" fill="white" rx="12" opacity="0.9">
                                        <animate attributeName="width" values="130;150;130" dur="2s" repeatCount="indefinite"/>
                                    </rect>
                                    <!-- Content Sections with Creative Style -->
                                    <rect class="section" x="20" y="120" width="260" height="45" fill="#f8f9fa" rx="10"/>
                                    <rect class="line" x="20" y="175" width="260" height="15" fill="#e9ecef" rx="8"/>
                                    <rect class="line" x="20" y="200" width="240" height="15" fill="#e9ecef" rx="8"/>
                                    <rect class="section" x="20" y="225" width="260" height="45" fill="#f8f9fa" rx="10"/>
                                    <rect class="line" x="20" y="280" width="260" height="15" fill="#e9ecef" rx="8"/>
                                    <rect class="line" x="20" y="305" width="240" height="15" fill="#e9ecef" rx="8"/>
                                    <rect class="section" x="20" y="330" width="260" height="45" fill="#f8f9fa" rx="10"/>
                                </svg>
                            </div>
                            <h4>Creative</h4>
                            <p>Unique and eye-catching style</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Resume Form -->
        <div class="row">
            <div class="col-md-6">
                <form id="resumeForm">
                    <!-- Personal Information -->
                    <div class="card mb-4">
                        <div class="card-body">
                            <h3 class="section-title">Personal Information</h3>
                            <div class="mb-3">
                                <label for="name" class="form-label">Full Name</label>
                                <input type="text" class="form-control" id="name" required>
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email" required>
                            </div>
                            <div class="mb-3">
                                <label for="phone" class="form-label">Phone</label>
                                <input type="tel" class="form-control" id="phone" required>
                            </div>
                            <div class="mb-3">
                                <label for="location" class="form-label">Location</label>
                                <input type="text" class="form-control" id="location" required>
                            </div>
                            <div class="mb-3">
                                <label for="summary" class="form-label">Professional Summary</label>
                                <textarea class="form-control" id="summary" rows="4" required></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Experience -->
                    <div class="card mb-4">
                        <div class="card-body">
                            <h3 class="section-title">Experience</h3>
                            <div id="experienceItems">
                                <div class="experience-item mb-3">
                                    <div class="mb-3">
                                        <label class="form-label">Job Title</label>
                                        <input type="text" class="form-control job-title" required>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Company</label>
                                        <input type="text" class="form-control company" required>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Location</label>
                                        <input type="text" class="form-control job-location" required>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label class="form-label">Start Date</label>
                                                <input type="date" class="form-control start-date" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label class="form-label">End Date</label>
                                                <input type="date" class="form-control end-date" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Description</label>
                                        <textarea class="form-control job-description" rows="3" required></textarea>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="btn btn-secondary" onclick="addExperience()">Add Experience</button>
                        </div>
                    </div>

                    <!-- Education -->
                    <div class="card mb-4">
                        <div class="card-body">
                            <h3 class="section-title">Education</h3>
                            <div id="educationItems">
                                <div class="education-item mb-3">
                                    <div class="mb-3">
                                        <label class="form-label">Degree</label>
                                        <input type="text" class="form-control degree" required>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">School</label>
                                        <input type="text" class="form-control school" required>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Location</label>
                                        <input type="text" class="form-control school-location" required>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label class="form-label">Graduation Date</label>
                                                <input type="date" class="form-control graduation-date" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label class="form-label">GPA</label>
                                                <input type="text" class="form-control gpa">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="btn btn-secondary" onclick="addEducation()">Add Education</button>
                        </div>
                    </div>

                    <!-- Skills -->
                    <div class="card mb-4">
                        <div class="card-body">
                            <h3 class="section-title">Skills</h3>
                            <div id="skillItems">
                                <div class="skill-item mb-3">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label class="form-label">Skill Name</label>
                                                <input type="text" class="form-control skill-name" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label class="form-label">Level</label>
                                                <select class="form-select skill-level" required>
                                                    <option value="Beginner">Beginner</option>
                                                    <option value="Intermediate">Intermediate</option>
                                                    <option value="Advanced">Advanced</option>
                                                    <option value="Expert">Expert</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="btn btn-secondary" onclick="addSkill()">Add Skill</button>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Preview -->
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">Preview</h3>
                        <div class="preview-container">
                            <div id="resume-preview" class="resume-preview"></div>
                        </div>
                        <div class="mt-3 text-center">
                            <button id="download-pdf" class="btn btn-primary" disabled>
                                <i class="fas fa-download me-2"></i>Download PDF
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Initialize variables
        let selectedTemplate = 'modern'; // Default template
        let rateChart = null;

        // Template selection
        document.addEventListener('DOMContentLoaded', () => {
            // Set initial active template
            const defaultTemplate = document.querySelector('.template-option[data-template="modern"]');
            if (defaultTemplate) {
                defaultTemplate.classList.add('active');
            }

            // Add click event listeners to template options
            const templates = document.querySelectorAll('.template-option');
            templates.forEach(template => {
                template.addEventListener('click', function() {
                    // Remove active class from all templates
                    templates.forEach(t => t.classList.remove('active'));
                    // Add active class to selected template
                    this.classList.add('active');
                    // Update selected template
                    selectedTemplate = this.getAttribute('data-template');
                    // Update preview
                    updatePreview();
                });
            });

            // Add event listeners for form changes
            document.querySelectorAll('input, textarea, select').forEach(element => {
                element.addEventListener('change', updatePreview);
                element.addEventListener('input', updatePreview);
            });

            // Initialize preview
            updatePreview();
        });

        // Update preview
        function updatePreview() {
            const preview = document.getElementById('resume-preview');
            if (!preview) return;

            // Get all form data
            const formData = {
                personalInfo: {
                    name: document.getElementById('name')?.value || '',
                    email: document.getElementById('email')?.value || '',
                    phone: document.getElementById('phone')?.value || '',
                    location: document.getElementById('location')?.value || '',
                    summary: document.getElementById('summary')?.value || ''
                },
                experience: Array.from(document.querySelectorAll('.experience-item')).map(item => ({
                    title: item.querySelector('.job-title')?.value || '',
                    company: item.querySelector('.company')?.value || '',
                    location: item.querySelector('.job-location')?.value || '',
                    startDate: item.querySelector('.start-date')?.value || '',
                    endDate: item.querySelector('.end-date')?.value || '',
                    description: item.querySelector('.job-description')?.value || ''
                })),
                education: Array.from(document.querySelectorAll('.education-item')).map(item => ({
                    degree: item.querySelector('.degree')?.value || '',
                    school: item.querySelector('.school')?.value || '',
                    location: item.querySelector('.school-location')?.value || '',
                    graduationDate: item.querySelector('.graduation-date')?.value || '',
                    gpa: item.querySelector('.gpa')?.value || ''
                })),
                skills: Array.from(document.querySelectorAll('.skill-item')).map(item => ({
                    name: item.querySelector('.skill-name')?.value || '',
                    level: item.querySelector('.skill-level')?.value || 'Beginner'
                }))
            };

            // Apply template
            let templateHTML = '';
            switch (selectedTemplate) {
                case 'modern':
                    templateHTML = generateModernTemplate(formData);
                    break;
                case 'professional':
                    templateHTML = generateProfessionalTemplate(formData);
                    break;
                case 'creative':
                    templateHTML = generateCreativeTemplate(formData);
                    break;
                default:
                    templateHTML = generateModernTemplate(formData);
            }

            preview.innerHTML = templateHTML;
            updateDownloadButton();
        }

        // Template generators
        function generateModernTemplate(data) {
            return `
                <div class="resume-modern">
                    <header class="resume-header">
                        <h1>${data.personalInfo.name}</h1>
                        <div class="contact-info">
                            <p><i class="fas fa-envelope"></i> ${data.personalInfo.email}</p>
                            <p><i class="fas fa-phone"></i> ${data.personalInfo.phone}</p>
                            <p><i class="fas fa-map-marker-alt"></i> ${data.personalInfo.location}</p>
                        </div>
                    </header>
                    
                    <section class="resume-section">
                        <h2>Professional Summary</h2>
                        <p>${data.personalInfo.summary}</p>
                    </section>

                    <section class="resume-section">
                        <h2>Experience</h2>
                        ${data.experience.map(exp => `
                            <div class="experience-item">
                                <h3>${exp.title}</h3>
                                <h4>${exp.company} - ${exp.location}</h4>
                                <p class="date">${exp.startDate} - ${exp.endDate}</p>
                                <p>${exp.description}</p>
                            </div>
                        `).join('')}
                    </section>

                    <section class="resume-section">
                        <h2>Education</h2>
                        ${data.education.map(edu => `
                            <div class="education-item">
                                <h3>${edu.degree}</h3>
                                <h4>${edu.school} - ${edu.location}</h4>
                                <p class="date">Graduated: ${edu.graduationDate}</p>
                                ${edu.gpa ? `<p>GPA: ${edu.gpa}</p>`