<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Builder - Web Tools</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="../../styles/main.css" rel="stylesheet">
    <link href="../../styles/theme.css" rel="stylesheet">
    <style>
        .resume-section {
            margin-bottom: 2rem;
        }
        .resume-preview {
            border: 1px solid var(--bs-border-color);
            padding: 2rem;
            background: white;
            color: black;
        }
        .resume-preview h1, .resume-preview h2, .resume-preview h3 {
            color: #2c3e50;
        }
        .resume-preview .section-title {
            border-bottom: 2px solid #2c3e50;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
        }
        .resume-preview .contact-info {
            margin-bottom: 1.5rem;
        }
        .resume-preview .experience-item, .resume-preview .education-item {
            margin-bottom: 1rem;
        }
        .resume-preview .date {
            color: #666;
            font-style: italic;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div id="header"></div>

    <main class="container py-5">
        <div class="row">
            <div class="col-md-6">
                <div class="card mb-4">
                    <div class="card-body">
                        <h1 class="card-title text-center mb-4">
                            <i class="fas fa-file-alt me-2"></i>Resume Builder
                        </h1>
                        
                        <form id="resumeForm">
                            <!-- Personal Information -->
                            <div class="resume-section">
                                <h3 class="mb-3">Personal Information</h3>
                                <div class="mb-3">
                                    <label for="fullName" class="form-label">Full Name</label>
                                    <input type="text" class="form-control" id="fullName" required>
                                </div>
                                <div class="mb-3">
                                    <label for="email" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="email" required>
                                </div>
                                <div class="mb-3">
                                    <label for="phone" class="form-label">Phone</label>
                                    <input type="tel" class="form-control" id="phone" required>
                                </div>
                                <div class="mb-3">
                                    <label for="location" class="form-label">Location</label>
                                    <input type="text" class="form-control" id="location" required>
                                </div>
                            </div>

                            <!-- Professional Summary -->
                            <div class="resume-section">
                                <h3 class="mb-3">Professional Summary</h3>
                                <div class="mb-3">
                                    <textarea class="form-control" id="summary" rows="4" required></textarea>
                                </div>
                            </div>

                            <!-- Work Experience -->
                            <div class="resume-section">
                                <h3 class="mb-3">Work Experience</h3>
                                <div id="experienceContainer">
                                    <div class="experience-item mb-3">
                                        <div class="row g-3">
                                            <div class="col-md-6">
                                                <input type="text" class="form-control" placeholder="Company" required>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control" placeholder="Position" required>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control" placeholder="Start Date" required>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control" placeholder="End Date" required>
                                            </div>
                                            <div class="col-12">
                                                <textarea class="form-control" rows="3" placeholder="Description" required></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-outline-primary" id="addExperience">
                                    <i class="fas fa-plus me-2"></i>Add Experience
                                </button>
                            </div>

                            <!-- Education -->
                            <div class="resume-section">
                                <h3 class="mb-3">Education</h3>
                                <div id="educationContainer">
                                    <div class="education-item mb-3">
                                        <div class="row g-3">
                                            <div class="col-md-6">
                                                <input type="text" class="form-control" placeholder="School/University" required>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control" placeholder="Degree" required>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control" placeholder="Start Date" required>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control" placeholder="End Date" required>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-outline-primary" id="addEducation">
                                    <i class="fas fa-plus me-2"></i>Add Education
                                </button>
                            </div>

                            <!-- Skills -->
                            <div class="resume-section">
                                <h3 class="mb-3">Skills</h3>
                                <div class="mb-3">
                                    <textarea class="form-control" id="skills" rows="3" placeholder="Enter skills separated by commas" required></textarea>
                                </div>
                            </div>

                            <div class="text-center">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-file-download me-2"></i>Generate Resume
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title text-center mb-4">Preview</h3>
                        <div id="resumePreview" class="resume-preview">
                            <!-- Preview content will be generated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <div id="footer"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="../../js/main.js"></script>
    <script>
        // Load header and footer
        fetch('../../components/header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header').innerHTML = data;
            });

        fetch('../../components/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });

        // Resume Builder functionality
        const resumeForm = document.getElementById('resumeForm');
        const resumePreview = document.getElementById('resumePreview');
        const addExperienceBtn = document.getElementById('addExperience');
        const addEducationBtn = document.getElementById('addEducation');
        const experienceContainer = document.getElementById('experienceContainer');
        const educationContainer = document.getElementById('educationContainer');

        // Add experience section
        addExperienceBtn.addEventListener('click', () => {
            const experienceItem = document.createElement('div');
            experienceItem.className = 'experience-item mb-3';
            experienceItem.innerHTML = `
                <div class="row g-3">
                    <div class="col-md-6">
                        <input type="text" class="form-control" placeholder="Company" required>
                    </div>
                    <div class="col-md-6">
                        <input type="text" class="form-control" placeholder="Position" required>
                    </div>
                    <div class="col-md-6">
                        <input type="text" class="form-control" placeholder="Start Date" required>
                    </div>
                    <div class="col-md-6">
                        <input type="text" class="form-control" placeholder="End Date" required>
                    </div>
                    <div class="col-12">
                        <textarea class="form-control" rows="3" placeholder="Description" required></textarea>
                    </div>
                </div>
            `;
            experienceContainer.appendChild(experienceItem);
        });

        // Add education section
        addEducationBtn.addEventListener('click', () => {
            const educationItem = document.createElement('div');
            educationItem.className = 'education-item mb-3';
            educationItem.innerHTML = `
                <div class="row g-3">
                    <div class="col-md-6">
                        <input type="text" class="form-control" placeholder="School/University" required>
                    </div>
                    <div class="col-md-6">
                        <input type="text" class="form-control" placeholder="Degree" required>
                    </div>
                    <div class="col-md-6">
                        <input type="text" class="form-control" placeholder="Start Date" required>
                    </div>
                    <div class="col-md-6">
                        <input type="text" class="form-control" placeholder="End Date" required>
                    </div>
                </div>
            `;
            educationContainer.appendChild(educationItem);
        });

        // Update preview
        function updatePreview() {
            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const location = document.getElementById('location').value;
            const summary = document.getElementById('summary').value;
            const skills = document.getElementById('skills').value;

            let experienceHTML = '';
            document.querySelectorAll('.experience-item').forEach(item => {
                const inputs = item.querySelectorAll('input, textarea');
                experienceHTML += `
                    <div class="experience-item">
                        <h4>${inputs[1].value}</h4>
                        <p class="mb-1">${inputs[0].value}</p>
                        <p class="date">${inputs[2].value} - ${inputs[3].value}</p>
                        <p>${inputs[4].value}</p>
                    </div>
                `;
            });

            let educationHTML = '';
            document.querySelectorAll('.education-item').forEach(item => {
                const inputs = item.querySelectorAll('input');
                educationHTML += `
                    <div class="education-item">
                        <h4>${inputs[1].value}</h4>
                        <p class="mb-1">${inputs[0].value}</p>
                        <p class="date">${inputs[2].value} - ${inputs[3].value}</p>
                    </div>
                `;
            });

            resumePreview.innerHTML = `
                <h1 class="text-center mb-4">${fullName}</h1>
                <div class="contact-info text-center">
                    <p>${email} | ${phone} | ${location}</p>
                </div>

                <div class="section">
                    <h2 class="section-title">Professional Summary</h2>
                    <p>${summary}</p>
                </div>

                <div class="section">
                    <h2 class="section-title">Work Experience</h2>
                    ${experienceHTML}
                </div>

                <div class="section">
                    <h2 class="section-title">Education</h2>
                    ${educationHTML}
                </div>

                <div class="section">
                    <h2 class="section-title">Skills</h2>
                    <p>${skills}</p>
                </div>
            `;
        }

        // Update preview on input change
        resumeForm.addEventListener('input', updatePreview);

        // Generate PDF
        resumeForm.addEventListener('submit', (e) => {
            e.preventDefault();
            updatePreview();

            const element = document.getElementById('resumePreview');
            const opt = {
                margin: 1,
                filename: 'resume.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
            };

            html2pdf().set(opt).from(element).save();
        });
    </script>
</body>
</html> 